Version 4
SHEET 1 2740 1448
WIRE -704 32 -800 32
WIRE -576 32 -624 32
WIRE -1072 112 -1088 112
WIRE -992 112 -1008 112
WIRE -800 112 -800 32
WIRE -800 112 -912 112
WIRE -768 112 -800 112
WIRE 2192 112 2192 48
WIRE -576 128 -576 32
WIRE -576 128 -704 128
WIRE -496 128 -576 128
WIRE 784 128 608 128
WIRE 976 128 848 128
WIRE -768 144 -832 144
WIRE 96 144 0 144
WIRE 432 144 176 144
WIRE 1424 144 1376 144
WIRE 1536 144 1504 144
WIRE 1648 144 1536 144
WIRE 1840 144 1648 144
WIRE -1088 176 -1088 112
WIRE -736 176 -736 160
WIRE 368 192 208 192
WIRE 944 192 816 192
WIRE 1536 192 1536 144
WIRE 1648 192 1648 144
WIRE 2192 224 2192 192
WIRE 2304 224 2192 224
WIRE 816 240 816 192
WIRE 864 240 816 240
WIRE 208 256 208 192
WIRE 256 256 208 256
WIRE 944 256 944 192
WIRE 944 256 928 256
WIRE 976 256 976 128
WIRE 976 256 944 256
WIRE 1040 256 976 256
WIRE 2192 256 2192 224
WIRE 368 272 368 192
WIRE 368 272 320 272
WIRE 432 272 432 144
WIRE 432 272 368 272
WIRE 480 272 432 272
WIRE 608 272 608 128
WIRE 608 272 560 272
WIRE 656 272 608 272
WIRE 768 272 736 272
WIRE 864 272 768 272
WIRE -128 288 -192 288
WIRE 0 288 0 144
WIRE 0 288 -64 288
WIRE 48 288 0 288
WIRE 176 288 112 288
WIRE 256 288 176 288
WIRE -1024 320 -1184 320
WIRE -928 320 -960 320
WIRE -832 320 -832 144
WIRE -832 320 -928 320
WIRE 1536 320 1536 256
WIRE 1600 320 1536 320
WIRE 1648 320 1648 272
WIRE 1648 320 1600 320
WIRE 176 336 176 288
WIRE 768 336 768 272
WIRE -1184 368 -1184 320
WIRE 1600 368 1600 320
WIRE 2192 480 2192 336
WIRE -848 1040 -848 1008
WIRE -720 1040 -720 1008
WIRE -848 1168 -848 1120
WIRE -720 1168 -720 1120
FLAG -736 96 VDD
FLAG -848 1008 VDD
FLAG -848 1168 0
FLAG 176 416 0
FLAG 768 400 0
FLAG 288 240 VDD
FLAG 896 224 VDD
FLAG -1088 176 0
FLAG -496 128 AFEVout
FLAG 1040 256 FilterOut
FLAG -736 176 VSS
FLAG 288 304 VSS
FLAG 896 288 VSS
FLAG -720 1008 VSS
FLAG -720 1168 0
FLAG 2192 48 VDD
FLAG 2192 480 0
FLAG 2304 224 Vdivider
FLAG -928 400 0
FLAG -928 240 VDD
FLAG 176 208 VDD
FLAG -192 288 AFEVout
FLAG -1184 448 0
FLAG 1600 368 0
FLAG 1312 144 FilterOut
FLAG 1840 144 Vo
SYMBOL OpAmps\\UniversalOpAmp2 -736 128 R0
SYMATTR InstName U1
SYMATTR Value2 Avol=0.4Meg GBW=1Meg Slew=0.6Meg
SYMBOL res -608 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 150k
SYMBOL res -896 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL voltage -848 1024 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL cap -64 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1.5µ
SYMBOL res 192 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMATTR SpiceLine tol=5
SYMBOL cap 112 272 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1.5µ
SYMBOL res 160 320 R0
SYMATTR InstName R3
SYMATTR Value 22k
SYMATTR SpiceLine tol=5
SYMBOL OpAmps\\UniversalOpAmp2 288 272 R0
SYMATTR InstName U2
SYMBOL res 576 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 2.7k
SYMATTR SpiceLine tol=5
SYMBOL cap 848 112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL OpAmps\\UniversalOpAmp2 896 256 R0
SYMATTR InstName U3
SYMBOL cap 752 336 R0
SYMATTR InstName C4
SYMATTR Value 68n
SYMBOL voltage -720 1024 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 0
SYMBOL res 2176 96 R0
SYMATTR InstName R9
SYMATTR Value 33k
SYMBOL res 2176 240 R0
SYMATTR InstName R10
SYMATTR Value 82k
SYMBOL cap -1008 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 47µ
SYMBOL res -944 224 R0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res -944 304 R0
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL cap -960 304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 47µ
SYMBOL res 160 192 R0
SYMATTR InstName R13
SYMATTR Value 22k
SYMATTR SpiceLine tol=5
SYMBOL voltage -1184 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 {amp} {freq})
SYMBOL res 752 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 4.7k
SYMBOL res 1632 176 R0
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL cap 1520 192 R0
SYMATTR InstName C7
SYMATTR Value 47µ
SYMBOL diode 1312 160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL voltage 1520 144 R90
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 0.5
TEXT -112 1000 Left 2 !.param freq =10
TEXT -112 1064 Left 2 ;.step param freq 10 400 200
TEXT -112 960 Left 2 !.param amp=10m
TEXT -104 1152 Left 2 ;.step param amp 0.1m 5m 1m
TEXT -104 1112 Left 2 !.tran 0 5 1
TEXT -96 896 Left 2 ;.op
TEXT -1184 -32 Left 2 ;AFE
TEXT -192 -32 Left 2 ;FILTER
TEXT -1056 832 Left 2 ;POWER SUPPLY
TEXT -192 832 Left 2 ;SPICE DIRECTIVES
TEXT 2112 -48 Left 2 ;Comparator's Voltage Divider
TEXT 1264 -48 Left 2 ;HalfWave Rectifier
RECTANGLE Normal -384 576 -1232 -96 2
RECTANGLE Normal 1152 576 -256 -96 2
RECTANGLE Normal -480 1344 -1104 784 2
RECTANGLE Normal 368 1344 -256 784 2
RECTANGLE Normal 2736 576 2048 -96 2
RECTANGLE Normal 2016 576 1216 -96 2
